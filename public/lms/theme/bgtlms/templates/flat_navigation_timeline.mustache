<nav class="list-group">
    <h3>Table of content</h3>
    <ol class="flat-nav-list">
        {{#modules}}
            {{#.}}
                <li class="flat-nav-item module-id-{{ id }}"><a href="{{{ url }}}">{{{ name }}}</a></li>
            {{/.}}
        {{/modules}}
    </ol>
</nav>

<script>
$(document).ready(function() {
   let cmid = parseInt({{cmid}});
   let modulesidsstring = '{{ modulesidsstring}}';
   let learned_module_count = 0;
   let total_module_count = 0;

   if(modulesidsstring.length !== 0) {
       let modules = modulesidsstring.split(",");
       $.each(modules, function( index, value ) {
           total_module_count++;
           let module_id = parseInt(value);
           if (module_id < cmid) {
               $('.module-id-' + module_id).toggleClass('flat-nav-item-learned');
               learned_module_count ++;
           } else if (module_id > cmid) {
               $('.module-id-' + module_id).toggleClass('flat-nav-item-unlearn');
           } else {
               learned_module_count ++;
               $('.module-id-' + module_id).toggleClass('flat-nav-item-learning');
           }
       });
   }
   //Use data from column2 passed
   //$("#learned-module-count").text(learned_module_count.toString());
   //$("#total-module-count").text(total_module_count.toString());
});
</script>

<style>
/**
 Source:
 https://dev.to/peterc/how-to-create-joined-bulletpoint-lists-with-css-bbc-news-style-1eem
 https://css-tricks.com/snippets/css/unordered-list-as-a-timeline/
**/
    nav.list-group h3 {
        margin-left: 2rem;
    }

    ol.flat-nav-list {
        list-style-type: none;
    }

    li.flat-nav-item {
        position: relative;
        margin: 0;
        padding-bottom: 1em;
        padding-left: 20px;
    }

    li.flat-nav-item:after {
        content: '';
        border: 1px solid #bbb;
        border-radius: 50%;
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' aria-hidden='true' viewBox='0 0 32 32' focusable='false'%3E%3Ccircle stroke='none' fill='grey' cx='16' cy='16' r='10'%3E%3C/circle%3E%3C/svg%3E");
        position: absolute;
        left: 0;
        top: 3px;
        height: 15px;
        width: 15px;
    }

    .flat-nav-item-learning:after {
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' aria-hidden='true' viewBox='0 0 32 32' focusable='false'%3E%3Ccircle stroke='none' fill='lightgreen' cx='16' cy='16' r='10'%3E%3C/circle%3E%3C/svg%3E") !important;
    }

    .flat-nav-item-learned:after {
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' aria-hidden='true' viewBox='0 0 32 32' focusable='false'%3E%3Ccircle stroke='none' fill='grey' cx='16' cy='16' r='10'%3E%3C/circle%3E%3C/svg%3E") !important;
    }

    .flat-nav-item-unlearn:after {
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' aria-hidden='true' viewBox='0 0 32 32' focusable='false'%3E%3Ccircle stroke='none' fill='white' cx='16' cy='16' r='10'%3E%3C/circle%3E%3C/svg%3E") !important;
    }

    li.flat-nav-item:before {
        content: '';
        position: absolute;
        bottom: 0;
        top: 0;
        left: 6px;
        border-left: lightgray dotted 2px;
    }

/*
    ol {
        list-style-type: none;
    }

    li {
        position: relative;
        margin: 0;
        padding-bottom: 1em;
        padding-left: 20px;
    }

    li:before {
        content: '';
        background-color: #c00;
        position: absolute;
        bottom: 0;
        top: 0;
        left: 6px;
        width: 3px;
    }

    li:after {
        content: '';
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' aria-hidden='true' viewBox='0 0 32 32' focusable='false'%3E%3Ccircle stroke='none' fill='%23c00' cx='16' cy='16' r='10'%3E%3C/circle%3E%3C/svg%3E");
        position: absolute;
        left: 0;
        height: 15px;
        width: 15px;
    }
*/

</style>
